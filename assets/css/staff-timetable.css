.fc-error{padding:18px;background:#fff;border:1px solid #eee;border-radius:8px}
.fc-error a{color:#2b9f6f;font-weight:700;text-decoration:none}

.staff-timetable {
	display: block;
	vertical-align: top;
	max-width: 1200px;
	margin: 0 auto;
}
.staff-timetable .timetable-header{
	display:flex;
	justify-content:space-between;
	align-items:center;
	gap:12px;
	margin-bottom:18px;
}
.staff-timetable .timetable-header h3
.staff-row {
	display: flex;
	gap: 24px;
	align-items: flex-start;
}

/* Stronger specificity to prevent parent/theme styles from breaking the two-column layout */
.staff-timetable.staff-row {
	display: -webkit-box !important;
	display: -ms-flexbox !important;
	display: flex !important;
	-webkit-box-align: start !important;
	-ms-flex-align: start !important;
	align-items: flex-start !important;
	gap: 24px !important;
}

.staff-list-column {
	width: 320px;
	flex: 0 0 320px;
	min-width: 220px;
}

.staff-calendar-column {
	flex: 1 1 0;
	/* allow the calendar to shrink more in constrained layouts */
	min-width: 320px;
}

/* Prevent the two columns from wrapping onto separate lines in most desktop layouts */
.staff-row {
	flex-wrap: nowrap !important;
}

/* Ensure calendar uses full width of the right column and doesn't overflow */
.staff-calendar-column .staff-calendar {
	box-sizing: border-box !important;
	width: 100% !important;
}

/* Right pane box that visually contains the calendar and floats to the right */
.staff-calendar-box {
	float: right;
	width: 68%; /* use percentage so it adapts to container width */
	max-width: 920px;
	min-width: 360px;
	margin-left: 16px;
	box-sizing: border-box;
}

/* Make boxed layout look like a panel */
.staff-calendar-box .staff-calendar, .staff-calendar-box .timetable-header {
	background: #fff;
	border-radius: 10px;
	box-shadow: 0 8px 20px rgba(12,25,48,0.06);
	border: 1px solid rgba(12,25,48,0.04);
}

@media (max-width: 1000px) {
	.staff-calendar-box { width: 100%; float: none; min-width: 0; max-width: none; margin-left: 0; }
	.staff-list-column { width: 100%; flex: 1 1 auto; }
}

.staff-selector-grid {
	display: grid;
	grid-template-columns: 1fr;
	gap: 12px;
}

.staff-card {
	display: flex;
	align-items: center;
	width: 100%;
	padding: 10px 12px;
	background: #fff;
	border: 1px solid rgba(12,25,48,0.06);
	border-radius: 8px;
	box-shadow: 0 2px 6px rgba(12,25,48,0.03);
}
.staff-card .staff-avatar, .staff-card .staff-avatar-initial {
	width: 56px;
	height: 56px;
	border-radius: 50%;
	margin-right: 12px;
	flex: 0 0 56px;
}
.staff-card .staff-name { font-size: 16px; font-weight:600; }
.staff-card.selected { outline: 2px solid var(--ubf-accent,#2b8ee8); }

.staff-calendar-placeholder { padding: 18px; background: #fbfbfd; border: 1px dashed rgba(12,25,48,0.04); border-radius:8px; }
.staff-calendar-placeholder h4 { margin:0 0 8px 0; }
.placeholder-sample { margin:8px 0 0 0; padding-left:18px; }

.staff-calendar-column { position: relative; }
.staff-calendar-close { position: absolute; right: 8px; top: 8px; z-index: 20; }

/* In-block expander styles */
.staff-card-expander {
	margin: 10px 0 18px 0;
	background: #fff;
	border: 1px solid rgba(12,25,48,0.06);
	border-radius: 8px;
	box-shadow: 0 4px 12px rgba(12,25,48,0.04);
}
.staff-card-expander-inner { padding: 12px; }
.staff-card-expander-close { float: right; background: var(--ubf-accent,#2b8ee8); color: #fff; border: none; padding:6px 10px; border-radius:4px; cursor:pointer; }
.staff-card-calendar { min-height: 360px; margin-top: 8px; }

@media (max-width: 900px) {
	.staff-row { flex-direction: column; }
	.staff-list-column { width: 100%; flex: 1 1 auto; }
	.staff-calendar-column { width: 100%; min-width: 0; }
}
.staff-timetable .timetable-controls a{
	margin-left:8px;
	color:var(--ubf-accent);
	text-decoration:none;
	font-weight:700;
}
.timetable-grid{
	width:100%;
	border-collapse:separate;
	border-spacing:8px 8px;
}
.timetable-grid thead th{
	text-align:left;
	padding:10px 12px;
	background:transparent;
	color:#445566;
	font-weight:700;
}
.timetable-grid tbody td{
	background:#fbfdfe;
	padding:10px 12px;
	vertical-align:middle;
	text-align:center;
	min-width:80px;
	border-radius:8px;
}
.time-col{
	font-weight:700;
	color:#1f2a36;
	width:110px;
	text-align:left;
}
.slot-col .free{
	color:#2b6a5b;
	font-weight:700;
	display:inline-block;
	padding:6px 10px;
	border-radius:999px;
	background:#eaf6ef;
}
.slot-col .booked{display:flex;flex-direction:column;gap:6px;align-items:center}
.booking-item{
	display:inline-block;
	padding:10px 12px;
	border-radius:10px;
	background:var(--ubf-accent);
	border:1px solid rgba(0,0,0,0.04);
	color:#fff;
	font-size:0.95rem;
	width:100%;
	box-sizing:border-box;
}

/* Staff selector (when no staff chosen) */
.staff-selector{padding:6px 2px}
.staff-selector-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;align-items:start;justify-items:center;padding-top:6px}
.staff-card{display:flex;flex-direction:column;align-items:center;gap:12px;padding:18px;min-height:140px;border-radius:12px;background:#fff;border:1px solid rgba(12,25,48,0.06);text-decoration:none;color:inherit;box-shadow:0 6px 14px rgba(12,25,48,0.04);transition:transform .14s ease,box-shadow .14s ease;width:100%;max-width:320px}
.staff-card:focus, .staff-card:hover{transform:translateY(-4px);box-shadow:0 14px 30px rgba(12,25,48,0.08);outline:none}
.staff-avatar{width:84px;height:84px;border-radius:50%;object-fit:cover}
.staff-avatar-initial{width:84px;height:84px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--ubf-accent),#4FB07A);color:#fff;font-weight:800;font-size:26px}
.staff-name{font-weight:800;text-align:center;font-size:1.05rem}

@media(max-width:900px){
	.time-col{width:88px}
	.timetable-grid thead th, .timetable-grid tbody td{padding:8px;font-size:13px}
	.staff-card{width:100%}
}

/* Enhanced UI: stronger border, nicer header and calendar container */
.staff-timetable {
	border: 1px solid rgba(12,25,48,0.08); /* slightly stronger */
	padding: 18px;
}
.staff-timetable .timetable-header{
	background: linear-gradient(90deg, rgba(100,196,147,0.06), rgba(12,25,48,0.02));
	padding: 10px 14px;
	border-radius: 8px;
	margin-bottom: 14px;
}
.staff-timetable .timetable-header h3{ margin:0; }
.staff-timetable .timetable-header .timetable-controls a{ color: var(--ubf-accent, #64C493); }

.staff-timetable .staff-calendar{
	background: #ffffff;
	border: 1px solid rgba(12,25,48,0.06);
	border-radius: 10px;
	padding: 10px;
	box-shadow: 0 4px 12px rgba(12,25,48,0.04);
	min-height: 420px;
}

.staff-calendar-close {
	display: inline-block;
	margin: 0 0 12px 0;
	padding: 6px 10px;
	background: var(--ubf-accent, #2b8ee8);
	color: #fff;
	border: none;
	border-radius: 4px;
	cursor: pointer;
}
.staff-calendar-close:hover { opacity: 0.95; }

/* FullCalendar overrides scoped to the timetable to keep global styles untouched */
.staff-timetable .fc { font-family: Inter, system-ui, 'Segoe UI', Roboto, Arial, sans-serif; }
.staff-timetable .fc .fc-event-main {
	background: var(--ubf-accent) !important;
	color: #fff !important;
	border: none !important;
	border-radius: 10px !important;
	padding: 8px 10px !important;
	box-shadow: 0 6px 18px rgba(12,25,48,0.08) !important;
	font-weight: 800 !important;
	line-height: 1.1 !important;
	white-space: normal !important;
}
.staff-timetable .fc .fc-daygrid-event, .staff-timetable .fc .fc-timegrid-event { margin: 8px 0 !important; }
.staff-timetable .fc .fc-timegrid-event-harness { padding: 4px !important; }
.staff-timetable .fc .fc-timegrid-slot-label { color: #23303b; font-weight: 700; }

/* Make event titles wrap and use smaller type so long titles don't overflow */
.staff-timetable .fc .fc-event-title {
	font-size: 0.9rem !important;
	word-break: break-word !important;
}

@media(max-width:600px){
	.staff-timetable .staff-calendar{ padding:8px; }
	.staff-timetable .fc .fc-event-main{ padding:5px 6px !important; font-size:0.85rem !important; }
}

